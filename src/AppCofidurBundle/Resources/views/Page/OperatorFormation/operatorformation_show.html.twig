{% extends 'AppCofidurBundle::layout.html.twig' %}

{% block body %}
	<script type="text/javascript">
		function validated_task(){
			alert('Tache validee !');
		}
	</script>

	<!-- idOperator, idFormation, dateBegin, dateEnd, validation, commentary, idFormer-->
	<fieldset class="operatorformation_sumup">
		<legend> Formation operateur </legend>
		<table class="operatorformation_ids">
			<tr>
				<th>ID operateur</th>
				<td> {{ operatorformation.idOperator }}</td>
			</tr>
			<tr>
				<th>ID formation</th>
				<td> {{ operatorformation.idFormation}}</td>
			</tr>
			<tr>
				<th>ID formateur</th>
				<td> {{ operatorformation.idFormer }}</td>
			</tr>
		</table>
		<table class="operatorformation_dates">
			<tr>
				<th>Date de début</th>
				<td> {{ operatorformation.dateBegin|date("m/d/Y")}}</td>
			</tr>
			<tr>
				<th>Date de fin</th>
				<td> {{ operatorformation.dateEnd|date("m/d/Y") }}</td>
			</tr>
		</table>

	</fieldset>
	<fieldset class="operatorformation_sumup">
		<legend>Résumé de la formation</legend>
		<table class="category_page">
			<tr>
				<th class="entete_category">ID</th>
				<th class="entete_category">Name</th>
				<th class="entete_category">Type</th>
				<th class="entete_category">Objectif</th>
				<th class="entete_category">Moyens pédagogiques</th>
				<th class="entete_category">Lieu & moyens matériels</th>
				<th class="entete_category">Criticité</th>
			</tr>
			<tr>
				<td>{{ formation.id }} </td>
				<td>{{ formation.name }} </td>
				<td>{{ formation.type }} </td>
				<td>{{ formation.goal }} </td>
				<td>{{ formation.teachingAids }} </td>
				<td>{{ formation.placesMaterialRessources }} </td>
				<td>{{ formation.criticality }} </td>
			</tr>
		</table>
	</fieldset>
	<!-- Résumé opérateur à réparer TODO @infern @florian-->
	{#<fieldset class="operatorformation_sumup">#}
		{#<legend>Résumé de l'opérateur</legend>#}
		{#<table class="category_page">#}
			{#<tr>#}
				{#<th class="entete_category">ID</th>#}
				{#<th class="entete_category">Nom</th>#}
				{#<th class="entete_category">Prénom</th>#}
				{#<th class="entete_category">Date de putain de naissance</th>#}
			{#</tr>#}
			{#<tr>#}
				{#<td>{{ operator.id }} </td>#}
				{#<td>{{ operator.firstname }} </td>#}
				{#<td>{{ operator.lastname }} </td>#}
				{#<td>{{ operator.dateofbirth }} </td>#}
			{#</tr>#}
		{#</table>#}
	{#</fieldset>#}
	{% for category in formation.categories %}
		<br/>
		<fieldset class="category">
		<legend class="category_title">
			Catégorie : {{ category.name }} ({{ category.ordre }})
		</legend>
		<table class="task_tab">
			<tr>
				<td class="task_name">Nom tache</td>
				<td class="task_order">Ordre tache</td>
			</tr>
			{% for task in category.tasks %}
					<tr>
						<td>{{ task.name }}</td>
						<td>{{ task.ordre }}</td>
						<td>
							<div class="task_validator">
								<input type="checkbox" name="accepter" value="accepter" id="accepter" disabled checked="true">
								<label for="accepted"></label>
								<button onclick='validated_task()'>Accepter</button>
							</div>
						</td>
					</tr>
			{% endfor %}
		</table>
		<br/>

		<a href="{{ path('AppCofidurBundle_operatorcategory_add', {'idOpForm': operatorformation.id, 'idCategory': category.id}) }}">
			<button id="validate">Valider la catégorie</button>
		</a>
		<a href="{{ path('AppCofidurBundle_operatorcategory_edit', {'idOpForm': operatorformation.id, 'idCategory': category.id}) }}">EDITER</a>
		<a href="{{ path('AppCofidurBundle_operatorcategory_delete', {'idOpForm': operatorformation.id, 'idCategory': category.id}) }}">SUPPRIMER</a>

		</fieldset>
{% endfor %}
{% endblock %}

{% block sidebar %}

{% endblock %}